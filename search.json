[{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others‚Äô private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement [INSERT CONTACT METHOD]. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired Mozilla‚Äôs code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contribution Guidelines","title":"Contribution Guidelines","text":"First , thank taking time contribute! ‚úåÔ∏è üéâ love input regardless size, content scope - whether issue, feature request, bug-fix documentation enhancement. Thanks üôè rock ü§ò","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"table-of-contents","dir":"","previous_headings":"","what":"Table of contents","title":"Contribution Guidelines","text":"üë∂ Getting started üìî Code Conduct üóÉ License üêõ report bug? üí° request change? üö© submit change? üëó Style guide üßê Recognition model ‚ùì questions","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting started","title":"Contribution Guidelines","text":"introduction, please read README file. can also find vignettes . Usually find ‚ÄúGetting started‚Äù article. Please also see package manual form pkgdown website.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contribution Guidelines","text":"project governed Code Conduct. participating, expected follow rules outlined .","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Contribution Guidelines","text":"code changes license covers project.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"how-to-report-a-bug","dir":"","previous_headings":"","what":"How to report a bug?","title":"Contribution Guidelines","text":"use GitHub track issues, feature requests well bugs. opening new issue please double-check ‚Äôs already reported (don‚Äôt worry duplicate - manage). already - -vote ‚¨ÜÔ∏è. look faster! kindly ask write good issue minimal reproducible example demonstrates problem. also great know local environment (R session info) well. find template issues opening bug ticket. speed fixing process lot! üìà.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"how-to-request-the-change","dir":"","previous_headings":"","what":"How to request the change?","title":"Contribution Guidelines","text":"notice missing feature idea enhance existing functionalities - please let us know creating new issue. opening new issue please double-check ‚Äôs already reported (don‚Äôt worry occurs duplicate - manage). already - -vote ‚¨ÜÔ∏è. look faster! Please elaborate ‚Äú?‚Äù - ‚Äôs context, ‚Äôs benefit . find template opening feature request ticket. help us prioritize submit meaningful changes.","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"github-flow","dir":"","previous_headings":"How to submit a change?","what":"GitHub Flow","title":"Contribution Guidelines","text":"following GitHub Flow collaborate repository. order submit changes please following: Open branch Please see branch naming convention . don‚Äôt write access please fork first. Make changes. Make sure code passes checks well documented tested decrease existing test coverage üí™. Create PR(s) Please link issue make good change description. Include development assumptions necessary. Give details reviewer efficiently check changes. Address review comments Please apply changes necessary. disagree reviewer - please explain . approved - merge PR(s) delete branch","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"branching-convention","dir":"","previous_headings":"How to submit a change?","what":"Branching convention","title":"Contribution Guidelines","text":"case working task inside one specific repository, please name branch <issue_id>_<short_description> lowercase. Multiple words description divided underscore (_). E.g. 15_fix_spelling_error case try solve spelling mistake mentioned issue number 15. case working task one repository affects multiple repositories, please always name branches: <issue_id>_<issue_repo>_<short description> lowercase. Multiple words description divided underscore (_). E.g. 15_abc_fix_spelling_error case try solve spelling mistake inside xyz closes issue 15 inside abc.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"monorepo-and-stageddependencies","dir":"","previous_headings":"How to submit a change?","what":"monorepo and staged.dependencies","title":"Contribution Guidelines","text":"Sometimes might need change upstream dependent package(s) able submit meaningful change. using staged.dependencies functionality simulate monorepo behavior. configuration already staged_dependencies.yaml file. just need name feature branches identically. exception branch naming convention described . Please read package manual details.","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"r--package-versions","dir":"","previous_headings":"How to submit a change? > Recommended development environment & tools","what":"R & package versions","title":"Contribution Guidelines","text":"continuously test packages newest R version well given package dependencies. recommend set-working environment way. can find details given GitHub Action execution log - step prints session info. find bugs older version dependencies - please create appropriate bug ticket.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"pre-commit","dir":"","previous_headings":"How to submit a change? > Recommended development environment & tools","what":"pre-commit","title":"Contribution Guidelines","text":"highly recommend pre-commit tool combined R hooks pre-commit execute checks prior committing pushing. configuration already repository (). Please, follow installation guide official pre-commit page GitHub readme page R hooks.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"style-guide","dir":"","previous_headings":"","what":"Style guide","title":"Contribution Guidelines","text":"repository follows standard tidyverse style guide ‚Äôs checked lintr. slight modifications default settings available .lintr file. Although allows flexibility - recommend sticking style existing code. Please note style also lintr check place validate code.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"recognition-model","dir":"","previous_headings":"","what":"Recognition model","title":"Contribution Guidelines","text":"contribution highly welcomed appreciated. contribution data already GitHub repository insights feature, introduced objective rules recognize significant contribution became package author: Minimum 5% lines code authored (determined git blame query) top 5 contributors terms number commits lines added lines removed. package maintainer also reserves rights manually adjust criteria recognize contributions.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/CONTRIBUTING.html","id":"any-questions","dir":"","previous_headings":"","what":"Any questions","title":"Contribution Guidelines","text":"questions regarding contribution - please reach repository maintainer(s)!","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/SECURITY.html","id":"reporting-security-issues","dir":"","previous_headings":"","what":"Reporting Security Issues","title":"Security Policy","text":"believe found security vulnerability repositories organization, please report us coordinated disclosure. Please report security vulnerabilities public GitHub issues, discussions, pull requests. Instead, please send email vulnerability.management[@]roche.com. Please include much information listed can help us better understand resolve issue: type issue (e.g., buffer overflow, SQL injection, cross-site scripting) Full paths source file(s) related manifestation issue location affected source code (tag/branch/commit direct URL) special configuration required reproduce issue Step--step instructions reproduce issue Proof--concept exploit code (possible) Impact issue, including attacker might exploit issue information help us triage report quickly.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/SECURITY.html","id":"data-security-standards-dss","dir":"","previous_headings":"","what":"Data Security Standards (DSS)","title":"Security Policy","text":"Please make sure reporting issues form bug, feature, pull request, sensitive information PII, PHI, PCI completely removed text attachments, including pictures videos.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Introduction to tern.mmrm","text":"Mixed effect Models Repeated Measures (MMRM) often used primary analysis continuous longitudinal endpoints clinical trials. setting, MMRM specific linear mixed effects model includes fixed effects variables: treatment arm, categorical visit, treatment visit interaction, covariates adjustment (e.g.¬†age, gender). covariance structure residuals can take different forms. Often, unstructured (.e.¬†saturated parametrization) covariance matrix assumed can represented random effects mixed model. implemented proprietary software SAS, whose PROC MIXED routine generally considered gold standard mixed models. However, allow use interactive web applications explore clinical study data flexible way. Therefore, wanted implement MMRM R way easily embedded shiny application. See teal.modules.clinical package details using code inside shiny application.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"descriptive-statistics","dir":"Articles","previous_headings":"","what":"Descriptive Statistics","title":"Introduction to tern.mmrm","text":"Descriptive statistics relevant analysis population (e.g.¬†patients least one post baseline visit) can obtained functions described Section @ref(baseline-tables).","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"statistical-model","dir":"Articles","previous_headings":"Methodology","what":"Statistical model","title":"Introduction to tern.mmrm","text":"linear mixed model (LMM) framework, outcome vector \\({\\bf Y}\\) modeled \\[\\bf Y = X \\boldsymbol \\beta + Z b + {\\boldsymbol \\varepsilon}\\] \\(\\bf X\\) matrix fixed effects, \\(\\bf Z\\) matrix random effects, \\(\\mathbf b \\sim N(0, \\mathbf D(\\boldsymbol \\theta))\\), \\({\\boldsymbol \\varepsilon} \\sim N(0, \\mathbf R(\\boldsymbol \\theta))\\). Letting \\(\\mathbf V = \\mathbf Z \\mathbf D \\mathbf Z^T + \\mathbf R\\), marginal conditional models given \\(\\mathbf Y \\sim N(\\bf X \\boldsymbol \\beta, V)\\) \\(\\mathbf Y | \\mathbf b \\sim N(\\bf X \\boldsymbol \\beta + Z b, R)\\), respectively. MMRM special case LMM \\(\\bf Y\\) collection measurements made set individuals time, .e.¬†\\(\\mathbf Y = ({\\bf Y}_1^T, {\\bf Y}_2^T, ...)^T\\) \\(\\mathbf Y_i = \\mathbf X_i \\boldsymbol \\beta + \\mathbf Z_i \\mathbf b_i + {\\boldsymbol \\varepsilon}_i\\). context clinical trials, individuals patients identified unique subject id, measurements treatment response, fixed effects include treatment arm, categorical visit, treatment visit interaction, potentially covariates (e.g.¬†age, gender).","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"estimation","dir":"Articles","previous_headings":"Methodology","what":"Estimation","title":"Introduction to tern.mmrm","text":"parameters \\(\\boldsymbol \\beta\\), \\(\\bf b\\), \\(\\boldsymbol \\theta\\) can estimated maximizing penalized restricted maximum likelihoods. average treatment response visit often particular interest. However, simply comparing predicted marginal responses \\(E(Y_{ij})\\) averaged across treatment x visit groups account potential imbalance covariates. (Imbalance may occur even randomized trials due patients dying dropping time.) fair comparison, least-squares (LS) mean: establishes reference grid cell represents unique combination factor (covariate) levels, calculates predicted marginal response cell, takes weighted average predicted marginal responses. following simple example illustrates concept LS means. Suppose longitudinal clinical trial three factors considered: treatment (B), visit (1, 2, ‚Ä¶), gender (M F). marginal predicted response (sample size) reference cell follows. average predicted responses arms B Visit 1 \\((100 \\times 20 + 50 \\times 30) / 50 = 70\\) \\((90 \\times 35 + 40 \\times 15) / 50 = 75\\), respectively. overall mean higher arm B arm even though mean lower within gender category. seeming contradiction caused imbalance data. LS mean calculates weighted average across cells treatment visit. example, equivalent taking weighted average column. One may assign equal weights cell, .e.¬†\\(0.5 \\times 100 + 0.5 \\times 50 = 75\\) \\(0.5 \\times 90 + 0.5 \\times 40 = 65\\). Alternatively, one may assign weights proportional observed frequencies factor combinations, .e.¬†\\(0.55 \\times 100 + 0.45 \\times 50 = 77.5\\) \\(0.55 \\times 90 + 0.45 \\times 40 = 67.5\\). cases, LS mean response lower arm B arm . LS means calculated tern.mmrm via R package emmeans. Users option weigh marginal predicted responses either equal weights proportional weights. Note proportional weights, weights calculated visit taking account observed frequencies factor combinations time. Therefore, even though covariate imbalance may vary time, LS mean provides adjusted analysis treatment response visits.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"inference","dir":"Articles","previous_headings":"Methodology","what":"Inference","title":"Introduction to tern.mmrm","text":"Performing inference estimated parameters (e.g.¬†calculating p-values) less straightforward MMRM. exact null distributions parameter effects unknown. SAS addresses issue utilizing Satterthwaite‚Äôs method approximate adjusted degrees freedom \\(F\\) \\(t\\) tests. lme4 lmerTest also implemented Satterthwaite‚Äôs method. Thus, relying two R packages, tern.mmrm able replicate outputs SAS.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"covariance-structure","dir":"Articles","previous_headings":"Methodology","what":"Covariance structure","title":"Introduction to tern.mmrm","text":"Users tern.mmrm following options covariance structure \\(\\mathbf V_i\\): Unstructured: \\[V_{ij} = \\theta_{ij}\\] Random Intercept (.e.¬†compound symmetry positive correlation): \\[\\mathbf Z_i = \\mathbf 1,\\ b_i \\overset{iid} \\sim N(0, \\theta),\\ \\varepsilon_{ij} \\overset{iid}{\\sim} N(0, \\sigma^2)\\] \\[\\mathbf V_i = \\begin{bmatrix} \\theta + \\sigma^2 & \\theta & \\theta & \\cdots \\\\ \\theta & \\theta + \\sigma^2 & \\theta & \\cdots \\\\ \\theta & \\theta & \\ddots & \\cdots \\\\ \\theta & \\theta & \\cdots & \\theta + \\sigma^2 \\end{bmatrix} \\mbox{ } corr(Y_{ij}, Y_{ik}) = \\frac{\\theta}{\\theta + \\sigma^2} \\mbox{ } j \\neq k\\] Random Slope: \\[\\mathbf Z_i = \\begin{bmatrix} 1 & t_{i1} \\\\ 1 & t_{i2} \\\\ \\vdots & \\vdots \\\\ 1 & t_{in_i} \\end{bmatrix},\\ b_i \\overset{iid} \\sim N \\left (0, \\begin{bmatrix} \\theta_{11} & \\theta_{12} \\\\ \\theta_{12} & \\theta_{22} \\end{bmatrix} \\right ),\\ \\varepsilon_{ij} \\overset{iid}{\\sim} N(0, \\sigma^2)\\] Random Quadratic: \\[\\mathbf Z_i = \\begin{bmatrix} 1 & t_{i1} & t_{i1}^2 \\\\ 1 & t_{i2} & t_{i2}^2 \\\\ \\vdots & \\vdots \\\\ 1 & t_{in_i} & t_{in_i}^2 \\end{bmatrix},\\ b_i \\overset{iid} \\sim N \\left (0, \\begin{bmatrix} \\theta_{11} & \\theta_{12} & \\theta_{13} \\\\ \\theta_{12} & \\theta_{22} & \\theta_{23} \\\\ \\theta_{13} & \\theta_{23} & \\theta_{33} \\end{bmatrix} \\right ),\\ \\varepsilon_{ij} \\overset{iid}{\\sim} N(0, \\sigma^2)\\] Note options available SAS available tern.mmrm. lme4 package tern.mmrm relies restrictions regarding type covariance structure can considered. Specifically, lme4 assumes \\(\\mathbf D_i\\) unstructured \\(\\mathbf R_i = \\sigma^2 \\mathbf \\), \\(\\mathbf V_i\\) specified random design matrix \\(\\mathbf Z_i\\). prevents us implementing covariance structures fall outside scope, e.g.¬†AR(1) \\((\\mathbf V_i)_{jk} = \\sigma^2 \\rho^{|j-k|}\\) Toeplitz \\((\\mathbf V_i)_{jk}=\\theta_{|j-k|}\\). exception unstructured model; although specifying \\(\\mathbf Z_i = \\mathbf I_{n_i \\times n_i}\\), unstructured \\(\\mathbf D_i\\), \\(\\mathbf R_i = \\sigma^2 \\mathbf \\) results -parametrized model, \\(\\mathbf V_i\\) whole identifiable suppressing error messages, can fact fit MMRM unstructured covariance matrix (see next section). Compared lme4, R package nlme can consider flexible covariance structures. However, chosen use package provide exact Satterthwaite adjusted degrees freedom available approximate degrees freedom can differ substantially.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"model-fitting","dir":"Articles","previous_headings":"","what":"Model fitting","title":"Introduction to tern.mmrm","text":"section, illustrate fit MMRM tern.mmrm fit MMRM manually R. compare SAS show results match.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"setup","dir":"Articles","previous_headings":"Model fitting","what":"Setup","title":"Introduction to tern.mmrm","text":"example dataset consists several variables: subject ID (USUBJID), visit number (AVISIT), treatment (ARMCD = TRT PBO), 3-category race, sex, FEV1 baseline (%), FEV1 study visits (%). FEV1 (forced expired volume one second) measure quickly lungs can emptied. Low levels FEV1 may indicate chronic obstructive pulmonary disease (COPD). scientific question hand whether treatment leads increase FEV1 time adjusting baseline covariates.","code":"library(tern.mmrm) #> Loading required package: tern #> Loading required package: rtables #> Loading required package: magrittr #> Loading required package: formatters #> Registered S3 method overwritten by 'tern': #>   method   from  #>   tidy.glm broom #> Registered S3 methods overwritten by 'tern.mmrm': #>   method         from #>   as.rtable.mmrm tern #>   tidy.mmrm      tern #>  #> Attaching package: 'tern.mmrm' #> The following objects are masked from 'package:tern': #>  #>     fit_mmrm, g_mmrm_diagnostic, g_mmrm_lsmeans, h_mmrm_cov, #>     h_mmrm_diagnostic, h_mmrm_fixed, s_mmrm_lsmeans, #>     s_mmrm_lsmeans_single, summarize_lsmeans data(mmrm_test_data) head(mmrm_test_data) #> # A tibble: 6 √ó 7 #>   USUBJID AVISIT ARMCD RACE                      SEX    FEV1_BL  FEV1 #>   <fct>   <fct>  <fct> <fct>                     <fct>    <dbl> <dbl> #> 1 PT1     VIS1   TRT   Black or African American Female    25.3  NA   #> 2 PT1     VIS2   TRT   Black or African American Female    25.3  40.0 #> 3 PT1     VIS3   TRT   Black or African American Female    25.3  NA   #> 4 PT1     VIS4   TRT   Black or African American Female    25.3  20.5 #> 5 PT2     VIS1   PBO   Asian                     Male      45.0  NA   #> 6 PT2     VIS2   PBO   Asian                     Male      45.0  31.5"},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"model-fitting-via-tern-mmrm","dir":"Articles","previous_headings":"Model fitting","what":"Model fitting via tern.mmrm","title":"Introduction to tern.mmrm","text":"Fitting MMRM easy tern.mmrm. default, model fitting function fit_mmrm assumes unstructured correlation proportional weights calculating LS means. resulting object consists among things estimated random fixed effects (fit), estimated LS means particular treatment particular visit (lsmeans), difference LS means particular visit (lsmeans$contrasts). Based output, evidence supports treatment leading increase FEV1 placebo study visits. correlation structures weighting schemes can considered. example, following modified code fits MMRM random intercept (compound symmetry positive correlation) equal weights:","code":"mmrm_results <- fit_mmrm(   vars = list(     response = \"FEV1\",     covariates = c(\"RACE\", \"SEX\", \"FEV1_BL\"),     id = \"USUBJID\",     arm = \"ARMCD\",     visit = \"AVISIT\"   ),   data = mmrm_test_data,   cor_struct = \"unstructured\",   weights_emmeans = \"proportional\" ) mmrm_results$lsmeans$contrasts #>   AVISIT estimate        se       df lower_cl upper_cl   t_stat      p_value #> 1   VIS1 3.983491 1.0453975 142.3217 1.916978 6.050004 3.810504 2.057335e-04 #> 2   VIS2 3.930770 0.8135014 142.2620 2.322657 5.538883 4.831916 3.458966e-06 #> 3   VIS3 2.983733 0.6656817 129.6022 1.666723 4.300743 4.482221 1.606826e-05 #> 4   VIS4 4.403899 1.6604869 132.8795 1.119493 7.688306 2.652174 8.971264e-03 #>   ARMCD relative_reduc #> 1   TRT    -0.12102463 #> 2   TRT    -0.10425034 #> 3   TRT    -0.06893901 #> 4   TRT    -0.09154381 fit_mmrm(   vars = list(     response = \"FEV1\",     covariates = c(\"RACE\", \"SEX\", \"FEV1_BL\"),     id = \"USUBJID\",     arm = \"ARMCD\",     visit = \"AVISIT\"   ),   data = mmrm_test_data,   cor_struct = \"compound-symmetry\",   weights_emmeans = \"equal\" )"},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"model-fitting-manually-in-r","dir":"Articles","previous_headings":"Model fitting","what":"Model fitting manually in R","title":"Introduction to tern.mmrm","text":"One can reproduce results manually R. example, fit unstructured model: mentioned previous section, although unstructured model technically -parametrized lmer‚Äôs required formulation, marginal covariance whole identifiable can fit model including argument check.nobs.vs.nRE = \"ignore\" suppress error messages. Compared manual implementation, tern.mmrm users can avoid specifying formula well non-linear optimizer used fit MMRM. tern.mmrm default optimizer fact one shown . default fails converge, automatically attempts use multiple optimizers, delivering results consensus.","code":"library(lme4) library(emmeans)  fit <- lmer(   formula = FEV1 ~ RACE + SEX + FEV1_BL + ARMCD * AVISIT + (0 + AVISIT | USUBJID),   data = mmrm_test_data,   control = lmerControl(     check.nobs.vs.nRE = \"ignore\",     optimizer = \"nloptwrap\",     optCtrl = list(algorithm = \"NLOPT_LN_BOBYQA\")   ) ) emmeans::emmeans(fit, mode = \"satterthwaite\", pairwise ~ ARMCD | AVISIT, weights = \"proportional\")"},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"model-fitting-via-sas","dir":"Articles","previous_headings":"Model fitting","what":"Model fitting via SAS","title":"Introduction to tern.mmrm","text":"","code":"proc import datafile=\"location_of_data.csv\"      out=dat      dbms=csv      replace;      getnames=yes; run;       proc mixed data= dat;         class ARMCD(ref=\"PBO\") AVISIT(ref=\"VIS1\") USUBJID SEX(ref=\"Male\") RACE(ref=\"Asian\");            Model FEV1 = ARMCD  RACE  SEX  FEV1_BL  AVISIT  ARMCD*AVISIT    / solution ddfm=satterthwaite;        repeated AVISIT / type=UN subject=USUBJID;        lsmeans ARMCD*AVISIT/pdiff obsmargins cl; run;"},{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"model-fitting-1","dir":"Articles","previous_headings":"Diagnostics","what":"Model fitting","title":"Introduction to tern.mmrm","text":"key part analysis data model selection, often desire select parsimonious model adequately fits data. provide four information criteria found SAS PROC MIXED. criterion specifically calculated follows: REML criterion: \\(-2 l\\) \\(l\\) REML log-likelihood. criterion penalty complexity, generally decreases model becomes complex. AIC: \\(-2l + 2d\\) \\(d\\) number covariance parameters. AICc: \\(-2l + 2dn^*/(n^*-d-1)\\) \\(n^*\\) number observations minus number fixed effects, \\(d + 2\\) smaller . AICc finite-sample corrected version AIC. BIC: \\(-2l + d \\log n\\) \\(n\\) number subjects opposed number observations. objective approach model selection minimize AIC, AICc, BIC. details information criteria (including references), see SAS Documentation.","code":"mmrm_results$diagnostics"},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"residual-analysis","dir":"Articles","previous_headings":"Diagnostics","what":"Residual analysis","title":"Introduction to tern.mmrm","text":"Another key part analysis data verifying model assumptions. g_mmrm_diagnostic(fit, type = ...) provides several handy residual plots, diagnostic different aspect MMRMs. Argument: type = \"fit-residual\" Diagnostic : homoskedasticity marginal residuals Argument: type = q-q-residual Diagnostic : normality marginal residuals","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/articles/tern-mmrm.html","id":"outlook","dir":"Articles","previous_headings":"","what":"Outlook","title":"Introduction to tern.mmrm","text":"actively looking expand capabilities tern.mmrm. Ongoing topics include: sensitivity lme4 ordering dataset: cases, lme4 may converge dataset may converge data rearranged. intermediate covariance structures: increase complexity compared simpler covariance structures, less model parameters compared unstructured covariance matrix additional model diagnostics: information criterion specifically evaluating fixed random effects; residual plots assess model assumptions","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Daniel Saban√©s Bov√©. Author, maintainer. Godwin Yung. Author. Francois Collin. Author. Jana Stoilova. Author. Joe Zhu. Author. F. Hoffmann-La Roche AG. Copyright holder, funder.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Saban√©s Bov√© D, Yung G, Collin F, Stoilova J, Zhu J (2022). tern.mmrm: MMRM interface tern package. https://github.com/insightsengineering/tern.mmrm, https://insightsengineering.github.io/tern.mmrm/.","code":"@Manual{,   title = {tern.mmrm: MMRM interface for tern package},   author = {Daniel {Saban√©s Bov√©} and Godwin Yung and Francois Collin and Jana Stoilova and Joe Zhu},   year = {2022},   note = {https://github.com/insightsengineering/tern.mmrm, https://insightsengineering.github.io/tern.mmrm/}, }"},{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"MMRM interface for tern package","text":"tern.mmrm provides interface mixed model repeated measures (MMRM) within tern framework. Please refer documentation fit_mmrm() see minimal example.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/index.html","id":"background","dir":"","previous_headings":"","what":"Background","title":"MMRM interface for tern package","text":"details implemented MMRM R please see following slides: Implementing Mixed Models Repeated Measures (MMRM) R","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"MMRM interface for tern package","text":"recommended create use Github PAT install latest version package. PAT, run following: might need manually install package dependencies installing package without dependencies = FALSE argument install_github may produce error. See package vignettes browseVignettes(package = \"tern.mmrm\") usage package.","code":"Sys.setenv(GITHUB_PAT = \"your_access_token_here\") if (!require(\"devtools\")) install.packages(\"devtools\") devtools::install_github(\"insightsengineering/tern.mmrm@*release\", dependencies = FALSE)"},{"path":"https://insightsengineering.github.io/tern.mmrm/pull_request_template.html","id":null,"dir":"","previous_headings":"","what":"Pull Request","title":"Pull Request","text":"Fixes #nnn","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/build_mmrm_formula.html","id":null,"dir":"Reference","previous_headings":"","what":"Build MMRM Formula ‚Äî build_mmrm_formula","title":"Build MMRM Formula ‚Äî build_mmrm_formula","text":"Helper function build MMRM formula.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/build_mmrm_formula.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build MMRM Formula ‚Äî build_mmrm_formula","text":"","code":"build_mmrm_formula(   vars,   cor_struct = c(\"unstructured\", \"random-quadratic\", \"random-slope\",     \"compound-symmetry\") )"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/build_mmrm_formula.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build MMRM Formula ‚Äî build_mmrm_formula","text":"vars (named list string character) specifying variables MMRM. following elements need included character vectors match corresponding columns data: response response variable covariates additional covariate terms (might also include interactions) id subject ID variable arm treatment group variable (factor) visit visit variable (factor) Note main effects interaction arm visit default included model. cor_struct string specifying correlation structure, defaults \"unstructured\". See details.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/build_mmrm_formula.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build MMRM Formula ‚Äî build_mmrm_formula","text":"complete MMRM formula use lme4::lmer().","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/check_mmrm_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"MMRM Variables Helper ‚Äî check_mmrm_vars","title":"MMRM Variables Helper ‚Äî check_mmrm_vars","text":"helper function check MMRM variables.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/check_mmrm_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MMRM Variables Helper ‚Äî check_mmrm_vars","text":"","code":"check_mmrm_vars(vars, data)"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/check_mmrm_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MMRM Variables Helper ‚Äî check_mmrm_vars","text":"vars (named list string character) specifying variables MMRM. following elements need included character vectors match corresponding columns data: response response variable covariates additional covariate terms (might also include interactions) id subject ID variable arm treatment group variable (factor) visit visit variable (factor) Note main effects interaction arm visit default included model. data data.frame variables specified vars. Records missing values independent variables excluded.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/check_mmrm_vars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MMRM Variables Helper ‚Äî check_mmrm_vars","text":"corresponding list variable labels. covariates, element parts contains character vector one element per covariates part (.e. occurring variable original covariates specification) included. label found, variable name instead used.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_lme4.html","id":null,"dir":"Reference","previous_headings":"","what":"Fitting lme4 Model ‚Äî fit_lme4","title":"Fitting lme4 Model ‚Äî fit_lme4","text":"Helper function fit MMRM lme4 lmerTest.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_lme4.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fitting lme4 Model ‚Äî fit_lme4","text":"","code":"fit_lme4(formula, data, optimizer = \"automatic\", n_cores = 1L)"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_lme4.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fitting lme4 Model ‚Äî fit_lme4","text":"formula (formula) MMRM formula (also another lme4 formula). data data.frame variables specified vars. Records missing values independent variables excluded. optimizer string specifying optimization algorithm used. default, \"automatic\" (necessary) try possible optimization algorithms choose best result. another algorithm chosen give valid result, error occur. n_cores (count) number cores use parallel \"automatic\" optimizer search.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_lme4.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fitting lme4 Model ‚Äî fit_lme4","text":"lmerTest::lmerModLmerTest object.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_lme4_single_optimizer.html","id":null,"dir":"Reference","previous_headings":"","what":"Fitting lme4 Model ‚Äî fit_lme4_single_optimizer","title":"Fitting lme4 Model ‚Äî fit_lme4_single_optimizer","text":"Internal helper function fit lme4 model single optimizer, capturing messages warnings.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_lme4_single_optimizer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fitting lme4 Model ‚Äî fit_lme4_single_optimizer","text":"","code":"fit_lme4_single_optimizer(   formula,   data,   optimizer = c(\"automatic\", \"nloptwrap_neldermead\", \"nloptwrap_bobyqa\", \"nlminbwrap\",     \"bobyqa\", \"neldermead\", \"nmkbw\", \"optimx_lbfgsb\") )"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_lme4_single_optimizer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fitting lme4 Model ‚Äî fit_lme4_single_optimizer","text":"formula (formula) lme4 formula. data data.frame variables specified vars. Records missing values independent variables excluded. optimizer string specifying optimization algorithm used. default, \"automatic\" (necessary) try possible optimization algorithms choose best result. another algorithm chosen give valid result, error occur.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_lme4_single_optimizer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fitting lme4 Model ‚Äî fit_lme4_single_optimizer","text":"fitted lmerTest::lmerModLmerTest object, additional attributes messages optimizer.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_lme4_single_optimizer.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Fitting lme4 Model ‚Äî fit_lme4_single_optimizer","text":"directly importing functions dfoptim optimx , rely available lme4 (packages \"Suggests\"). Therefore note imports .","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_mmrm.html","id":null,"dir":"Reference","previous_headings":"","what":"MMRM Analysis ‚Äî fit_mmrm","title":"MMRM Analysis ‚Äî fit_mmrm","text":"MMRM analysis. Multiple functions can called result produce tables graphs.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_mmrm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MMRM Analysis ‚Äî fit_mmrm","text":"","code":"fit_mmrm(   vars = list(response = \"AVAL\", covariates = c(), id = \"USUBJID\", arm = \"ARM\", visit =     \"AVISIT\"),   data,   conf_level = 0.95,   cor_struct = \"unstructured\",   weights_emmeans = \"proportional\",   optimizer = \"automatic\",   parallel = FALSE )"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_mmrm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MMRM Analysis ‚Äî fit_mmrm","text":"vars (named list string character) specifying variables MMRM. following elements need included character vectors match corresponding columns data: response response variable covariates additional covariate terms (might also include interactions) id subject ID variable arm treatment group variable (factor) visit visit variable (factor) Note main effects interaction arm visit default included model. data data.frame variables specified vars. Records missing values independent variables excluded. conf_level (proportion) confidence level interval. cor_struct string specifying correlation structure, defaults \"unstructured\". See details. weights_emmeans argument emmeans::emmeans(), \"proportional\" default. optimizer string specifying optimization algorithm used. default, \"automatic\" (necessary) try possible optimization algorithms choose best result. another algorithm chosen give valid result, error occur. parallel flag controls whether \"automatic\" optimizer search can use available free cores machine (default).","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_mmrm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MMRM Analysis ‚Äî fit_mmrm","text":"mmrm object list MMRM results: fit lmerModLmerTest object fitted data. Note attribute optimizer contains finally used optimization algorithm, can useful refitting model later . cov_estimate matrix covariance matrix estimate. diagnostics list model diagnostic statistics (REML criterion, AIC, corrected AIC, BIC). lsmeans list data frames estimates contrasts. vars variable list. labels Corresponding list variable labels extracted data. ref_level reference level arm variable, always first level. conf_level confidence level used construct confidence intervals.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_mmrm.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"MMRM Analysis ‚Äî fit_mmrm","text":"Satterthwaite adjusted degrees freedom (d.f.) supported, match results obtained SAS (confirmed unstructured compound symmetry correlation structures). correlation structure (cor_struct), user can choose among following options, sorted descending number variance parameters: unstructured Unstructured covariance matrix. flexible choice default. T visits, T * (T+1) / 2 variance parameters used. Note: current actual implementation uses one variance parameter, effect results. Therefore report actually relevant number parameters. random-quadratic Random quadratic spline random effects time variable. 7 variance parameters used. random-slope Random slope random effects time variable. 4 variance parameters used. compound-symmetry Constant correlation visits. 2 variance parameters used. optimizer, user can choose among following alternatives recommended \"automatic\": nloptwrap_neldermead NLopt version Nelder-Mead algorithm (via package nloptr) nloptwrap_bobyqa NLopt version BOBYQA algorithm (via package nloptr) bobyqa BOBYQA algorithm (via package minqa) nlminbwrap nlminb algorithm (wrapper nlminb) neldermead lme4 version Nelder-Mead algorithm box constraints (via package lme4) nmkbw Nelder-Mead algorithm (via package dfoptim) optimx_lbfgsb L-BFGS-B algorithm (via package optimx)","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_mmrm.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"MMRM Analysis ‚Äî fit_mmrm","text":"ordering input data sets can lead slightly different numerical results different convergence behavior. known observation used package lme4. However, convergence achieved, results reliable numerical precision.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/fit_mmrm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"MMRM Analysis ‚Äî fit_mmrm","text":"","code":"library(dplyr) #>  #> Attaching package: ‚Äòdplyr‚Äô #> The following objects are masked from ‚Äòpackage:stats‚Äô: #>  #>     filter, lag #> The following objects are masked from ‚Äòpackage:base‚Äô: #>  #>     intersect, setdiff, setequal, union library(rtables)  if (FALSE) { mmrm_results <- fit_mmrm(   vars = list(     response = \"FEV1\",     covariates = c(\"RACE\", \"SEX\"),     id = \"USUBJID\",     arm = \"ARMCD\",     visit = \"AVISIT\"   ),   data = mmrm_test_data,   cor_struct = \"random-quadratic\",   weights_emmeans = \"equal\" ) }"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm.html","id":null,"dir":"Reference","previous_headings":"","what":"MMRM Plots ‚Äî g_mmrm","title":"MMRM Plots ‚Äî g_mmrm","text":"summarizes available plotting functions MMRM.","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_diagnostic.html","id":null,"dir":"Reference","previous_headings":"","what":"Diagnostic Plots for MMRM ‚Äî g_mmrm_diagnostic","title":"Diagnostic Plots for MMRM ‚Äî g_mmrm_diagnostic","text":"function produces diagnostic plots.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_diagnostic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Diagnostic Plots for MMRM ‚Äî g_mmrm_diagnostic","text":"","code":"g_mmrm_diagnostic(   object,   type = c(\"fit-residual\", \"q-q-residual\"),   z_threshold = NULL )"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_diagnostic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diagnostic Plots for MMRM ‚Äî g_mmrm_diagnostic","text":"object (mmrm) model result produced fit_mmrm(). type (string) specifying type diagnostic plot produced: fit-residual fitted vs residuals plot, grouped visits. allows see remaining structure residuals might captured adding additional covariates model. q-q-residual Q-Q plot residuals (.e. sorted standardized residuals vs. normal quantiles), grouped visits. Observations absolute standardized residual z_threshold labeled. z_threshold (numeric) optional number indicating normal quantile threshold Q-Q plot.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_diagnostic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Diagnostic Plots for MMRM ‚Äî g_mmrm_diagnostic","text":"ggplot2 plot","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_diagnostic.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Diagnostic Plots for MMRM ‚Äî g_mmrm_diagnostic","text":"use marginal fitted values residuals. , fixed effects used estimate fitted values, difference fitted values vs. observed data residuals. line MMRM philosophy random effects used model marginal residual distribution.","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_diagnostic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Diagnostic Plots for MMRM ‚Äî g_mmrm_diagnostic","text":"","code":"if (FALSE) { library(dplyr)  mmrm_results <- fit_mmrm(   vars = list(     response = \"FEV1\",     covariates = c(\"RACE\", \"SEX\"),     id = \"USUBJID\",     arm = \"ARMCD\",     visit = \"AVISIT\"   ),   data = mmrm_test_data,   cor_struct = \"random-quadratic\",   weights_emmeans = \"equal\" ) g_mmrm_diagnostic(mmrm_results) g_mmrm_diagnostic(mmrm_results, type = \"q-q-residual\") }"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_lsmeans.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot LS means for MMRM ‚Äî g_mmrm_lsmeans","title":"Plot LS means for MMRM ‚Äî g_mmrm_lsmeans","text":"function summarizes adjusted lsmeans standard error, well conducts comparisons groups' adjusted lsmeans, first level group reference level.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_lsmeans.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot LS means for MMRM ‚Äî g_mmrm_lsmeans","text":"","code":"g_mmrm_lsmeans(   object,   select = c(\"estimates\", \"contrasts\"),   titles = c(estimates = paste(\"Adjusted mean of\", object$labels$response,     \"by treatment at visits\"), contrasts = paste0(\"Differences of \",     object$labels$response, \" adjusted means vs. control ('\", object$ref_level, \"')\")),   ylab = paste0(\"Estimates with \", round(object$conf_level * 100), \"% CIs\"),   width = 0.6,   show_pval = TRUE )"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_lsmeans.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot LS means for MMRM ‚Äî g_mmrm_lsmeans","text":"object (mmrm) model result produced fit_mmrm(). select (character) select one \"estimates\" \"contrasts\" plots. Note \"contrasts\" option applicable model summaries excluding arm variable. titles (character) elements estimates contrasts containing plot titles. ylab (string) y axis label. width (numeric) width error bars. show_pval (flag) p-values differences LS means vs. control displayed (default)?","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_lsmeans.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot LS means for MMRM ‚Äî g_mmrm_lsmeans","text":"ggplot2 plot","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_lsmeans.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot LS means for MMRM ‚Äî g_mmrm_lsmeans","text":"variable labels available original data set, used. Otherwise variable names used annotating plot. Contrast plot going returned treatment considered mmrm object considered object argument, matter select argument contains contrasts value.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/g_mmrm_lsmeans.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot LS means for MMRM ‚Äî g_mmrm_lsmeans","text":"","code":"if (FALSE) { library(dplyr) library(rtables)  mmrm_results <- fit_mmrm(   vars = list(     response = \"FEV1\",     covariates = c(\"RACE\", \"SEX\"),     id = \"USUBJID\",     arm = \"ARMCD\",     visit = \"AVISIT\"   ),   data = mmrm_test_data,   cor_struct = \"random-quadratic\",   weights_emmeans = \"equal\" ) g_mmrm_lsmeans(mmrm_results) g_mmrm_lsmeans(mmrm_results, select = \"estimates\") g_mmrm_lsmeans(   mmrm_results,   select = \"contrasts\",   titles = c(contrasts = \"Contrasts of FKSI-FWB means\"),   show_pval = TRUE,   width = 0.8 )  mmrm_test_data2 <- mmrm_test_data %>%   filter(ARMCD == \"TRT\")  mmrm_results_no_arm <- fit_mmrm(   vars = list(     response = \"FEV1\",     covariates = c(\"RACE\", \"SEX\"),     id = \"USUBJID\",     visit = \"AVISIT\"   ),   data = mmrm_test_data2,   cor_struct = \"random-quadratic\",   weights_emmeans = \"equal\" )  g_mmrm_lsmeans(mmrm_results_no_arm, select = \"estimates\") g_mmrm_lsmeans(   mmrm_results_no_arm,   select = c(\"estimates\", \"contrasts\"),   titles = c(     estimates = \"Adjusted mean of FKSI-FWB\",     contrasts = \"it will not be created\"   ),   show_pval = TRUE,   width = 0.8 )  g_mmrm_lsmeans(   mmrm_results_no_arm,   select = c(\"estimates\"),   titles = c(estimates = \"Adjusted mean of FKSI-FWB\"),   show_pval = TRUE,   width = 0.8 ) }"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_lme4_cov_estimate.html","id":null,"dir":"Reference","previous_headings":"","what":"Covariance Matrix for MMRM ‚Äî get_lme4_cov_estimate","title":"Covariance Matrix for MMRM ‚Äî get_lme4_cov_estimate","text":"Extract covariance matrix estimate lme4 fit.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_lme4_cov_estimate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Covariance Matrix for MMRM ‚Äî get_lme4_cov_estimate","text":"","code":"get_lme4_cov_estimate(fit)"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_lme4_cov_estimate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Covariance Matrix for MMRM ‚Äî get_lme4_cov_estimate","text":"fit (merMod) object e.g. coming fit_lme4_single_optimizer().","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_lme4_cov_estimate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Covariance Matrix for MMRM ‚Äî get_lme4_cov_estimate","text":"matrix containing covariance matrix estimate. following additional attributes attached: id subject used (one subject maximum number observations) n_parameters number covariance parameters used fit","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_lme4_cov_estimate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Covariance Matrix for MMRM ‚Äî get_lme4_cov_estimate","text":"adapted https://stat.ethz.ch/pipermail/r-sig-mixed-models/2008q1/000558.html. Note order rows/columns returned matrix corresponds order id's observations original data set.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_lme4_diagnostics.html","id":null,"dir":"Reference","previous_headings":"","what":"Linear Mixed Model Diagnostics ‚Äî get_lme4_diagnostics","title":"Linear Mixed Model Diagnostics ‚Äî get_lme4_diagnostics","text":"Compute model diagnostic statistics linear mixed model fit.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_lme4_diagnostics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Linear Mixed Model Diagnostics ‚Äî get_lme4_diagnostics","text":"","code":"get_lme4_diagnostics(fit, cov_est = get_lme4_cov_estimate(fit))"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_lme4_diagnostics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Linear Mixed Model Diagnostics ‚Äî get_lme4_diagnostics","text":"fit (lmerModLmerTest) object fit REML using lmerTest::lmer(). cov_est (Matrix) covariance estimate coming get_lme4_cov_estimate().","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_lme4_diagnostics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Linear Mixed Model Diagnostics ‚Äî get_lme4_diagnostics","text":"list REML criterion, AIC, AICc BIC.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_lme4_diagnostics.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Linear Mixed Model Diagnostics ‚Äî get_lme4_diagnostics","text":"AICc defined $$-2 * loglik + 2 * df * (m / (m - df - 1))$$ loglik restricted log likelihood value, df number covariance parameters m number observations minus number fixed effects, df + 2 smaller . df used AIC BIC. Note BIC, n used number subjects (instead number observations AIC AICc). matches definitions SAS.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_mmrm_lsmeans.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Least-Squares (LS) Means from MMRM ‚Äî get_mmrm_lsmeans","title":"Extract Least-Squares (LS) Means from MMRM ‚Äî get_mmrm_lsmeans","text":"Helper function extract LS means MMRM fit.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_mmrm_lsmeans.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Least-Squares (LS) Means from MMRM ‚Äî get_mmrm_lsmeans","text":"","code":"get_mmrm_lsmeans(fit, vars, conf_level, weights)"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_mmrm_lsmeans.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Least-Squares (LS) Means from MMRM ‚Äî get_mmrm_lsmeans","text":"fit result fit_lme4(). vars (named list string character) specifying variables MMRM. following elements need included character vectors match corresponding columns data: response response variable covariates additional covariate terms (might also include interactions) id subject ID variable arm treatment group variable (factor) visit visit variable (factor) Note main effects interaction arm visit default included model. conf_level (proportion) confidence level interval. weights (string) type weights used LS means, see emmeans::emmeans() details.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/get_mmrm_lsmeans.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Least-Squares (LS) Means from MMRM ‚Äî get_mmrm_lsmeans","text":"list LS means estimates contrasts results treatment control arm groups different visits.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/mmrm_test_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Example dataset for tern.mmrm package. ‚Äî mmrm_test_data","title":"Example dataset for tern.mmrm package. ‚Äî mmrm_test_data","text":"Measurements FEV1 (forced expired volume one second) measure quickly lungs can emptied. Low levels FEV1 may indicate chronic obstructive pulmonary disease (COPD).","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/mmrm_test_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example dataset for tern.mmrm package. ‚Äî mmrm_test_data","text":"","code":"mmrm_test_data"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/mmrm_test_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example dataset for tern.mmrm package. ‚Äî mmrm_test_data","text":"tibble 800 rows 7 variables: USUBJID price, US dollars AVISIT visit number ARMCD treatment, TRT PBO RACE 3-category race SEX sex FEV1_BL FEV1 baseline (%) FEV1 FEV1 study visits","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages ‚Äî reexports","title":"Objects exported from other packages ‚Äî reexports","text":"objects imported packages. Follow links see documentation. generics tidy tern .rtable","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/refit_lme4_all_optimizers.html","id":null,"dir":"Reference","previous_headings":"","what":"Re-Fitting lme4 Model ‚Äî refit_lme4_all_optimizers","title":"Re-Fitting lme4 Model ‚Äî refit_lme4_all_optimizers","text":"Refit lme4 model possible optimizers return best result.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/refit_lme4_all_optimizers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Re-Fitting lme4 Model ‚Äî refit_lme4_all_optimizers","text":"","code":"refit_lme4_all_optimizers(original_fit, n_cores = 1L)"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/refit_lme4_all_optimizers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Re-Fitting lme4 Model ‚Äî refit_lme4_all_optimizers","text":"original_fit original model fit coming fit_lme4_single_optimizer(). n_cores (count) number cores principle used parallel computations Linux Mac machines.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/refit_lme4_all_optimizers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Re-Fitting lme4 Model ‚Äî refit_lme4_all_optimizers","text":"\"best\" model fit, defined converging fit without warnings messages, leading highest log-likelihood. optimizer succeeds, error thrown.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/refit_lme4_all_optimizers.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Re-Fitting lme4 Model ‚Äî refit_lme4_all_optimizers","text":"Currently 7 optimizers total. Since 1 optimizer already used original fit, 6 additional optimizer runs need done. Thus maximum number parallel runs 6. Windows, parallel computation currently implemented.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/summary_all_fits.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary of Multiple lme4 Fits ‚Äî summary_all_fits","title":"Summary of Multiple lme4 Fits ‚Äî summary_all_fits","text":"Helper function extract summaries list lme4 fit objects. inspired internal unexported method summary.allFit lme4.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/summary_all_fits.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary of Multiple lme4 Fits ‚Äî summary_all_fits","text":"","code":"summary_all_fits(all_fits)"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/summary_all_fits.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary of Multiple lme4 Fits ‚Äî summary_all_fits","text":"all_fits (list) fits fit_lme4_single_optimizer().","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/summary_all_fits.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary of Multiple lme4 Fits ‚Äî summary_all_fits","text":"list elements messages (list messages), fixef (list fixed effects), llik (vector log-likelihood values), feval (vector number function evaluations).","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/tabulate_mmrm.html","id":null,"dir":"Reference","previous_headings":"","what":"Tabulation of MMRM Results ‚Äî tabulate_mmrm","title":"Tabulation of MMRM Results ‚Äî tabulate_mmrm","text":"functions can used produce tables fitted MMRM produced fit_mmrm().","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/tabulate_mmrm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tabulation of MMRM Results ‚Äî tabulate_mmrm","text":"","code":"# S3 method for mmrm as.rtable(x, type = c(\"fixed\", \"cov\", \"diagnostic\"), ...)  h_mmrm_fixed(x, format = \"xx.xxxx\")  h_mmrm_cov(x, format = \"xx.xxxx\")  h_mmrm_diagnostic(x, format = \"xx.xxxx\")  # S3 method for mmrm tidy(x, ...)  s_mmrm_lsmeans(df, .in_ref_col, show_relative = c(\"reduction\", \"increase\"))  a_mmrm_lsmeans(df, .in_ref_col, show_relative = c(\"reduction\", \"increase\"))  s_mmrm_lsmeans_single(df)  a_mmrm_lsmeans_single(df)  summarize_lsmeans(   lyt,   arms = TRUE,   ...,   table_names = \"lsmeans_summary\",   .stats = NULL,   .formats = NULL,   .indent_mods = NULL,   .labels = NULL )"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/tabulate_mmrm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tabulation of MMRM Results ‚Äî tabulate_mmrm","text":"x (mmrm) original MMRM fit object. type (string) type table returned. ... additional argument format controlling numeric format. format (string) format numbers table. df (data frame) data set containing analysis variables. .in_ref_col (logical)TRUE working reference level, FALSE otherwise. show_relative \"reduction\" (control - treatment, default) \"increase\" (treatment - control) shown relative change baseline? lyt (layout) input layout analyses added . arms (flag)  treatment variable considered using summarize_lsmeans layout generating function. table_names (character) can customized case vars analyzed multiple times, avoid warnings rtables. .stats (character) statistics select table. .formats (named character list) formats statistics. .indent_mods (named integer) indent modifiers labels. .labels (named character) labels statistics (without indent).","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/tabulate_mmrm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tabulation of MMRM Results ‚Äî tabulate_mmrm","text":".rtable.mmrm() returns fixed effects, covariance estimate diagnostic statistics tables.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/tabulate_mmrm.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Tabulation of MMRM Results ‚Äî tabulate_mmrm","text":".rtable.mmrm: Produce simple MMRM tables via generic .rtable(). h_mmrm_fixed: Helper function produce fixed effects table. h_mmrm_cov: Helper function produce covariance matrix table. h_mmrm_diagnostic: Helper function produce diagnostic statistics table. tidy.mmrm: Helper method (broom::tidy()) prepare data.frame mmrm object containing least-squares means contrasts. s_mmrm_lsmeans: Statistics function extracting estimates tidied least-squares means data frame. a_mmrm_lsmeans: Formatted Analysis function can customized calling rtables::make_afun() . used afun rtables::analyze(). s_mmrm_lsmeans_single: Statistics function extracting estimates tidied least-squares means data frame ARM considered model. a_mmrm_lsmeans_single: Formatted Analysis function (ARM considered model) can customized calling rtables::make_afun() . used afun rtables::analyze(). summarize_lsmeans: Analyze function tabulating least-squares means estimates tidied mmrm results.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/tabulate_mmrm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tabulation of MMRM Results ‚Äî tabulate_mmrm","text":"","code":"library(dplyr) library(lme4) #> Loading required package: Matrix  dat <- sleepstudy %>%   mutate(     group = factor(rep(c(\"A\", \"B\"), length = nrow(sleepstudy))),     days_grouped = cut(       Days,       breaks = stats::quantile(Days, probs = seq(0, 1, length = 5)),       include.lowest = TRUE     ),     Subject = case_when(       group == \"A\" ~ as.character(Subject),       TRUE ~ as.character(as.numeric(as.character(Subject)) + 50)     )   ) %>%   distinct_at(.vars = c(\"Subject\", \"days_grouped\", \"group\"), .keep_all = TRUE)  result <- fit_mmrm(   vars = list(     response = \"Reaction\",     covariates = c(),     id = \"Subject\",     arm = \"group\",     visit = \"days_grouped\"   ),   data = dat,   cor_struct = \"compound-symmetry\",   parallel = TRUE ) as.rtable(result, type = \"cov\", format = \"xx.x\") #>           [0,2]    (2,4.5]   (4.5,7]   (7,9]  #> ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî #> [0,2]     2531.4   1443.7    1443.7    1443.7 #> (2,4.5]   1443.7   2531.4    1443.7    1443.7 #> (4.5,7]   1443.7   1443.7    2531.4    1443.7 #> (7,9]     1443.7   1443.7    1443.7    2531.4  result_no_arm <- fit_mmrm(   vars = list(     response = \"Reaction\",     covariates = c(),     id = \"Subject\",     visit = \"days_grouped\"   ),   data = dat,   cor_struct = \"compound-symmetry\",   parallel = TRUE ) as.rtable(result_no_arm, type = \"cov\", format = \"xx.x\") #>           [0,2]    (2,4.5]   (4.5,7]   (7,9]  #> ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî #> [0,2]     2479.0   1399.3    1399.3    1399.3 #> (2,4.5]   1399.3   2479.0    1399.3    1399.3 #> (4.5,7]   1399.3   1399.3    2479.0    1399.3 #> (7,9]     1399.3   1399.3    1399.3    2479.0 df <- broom::tidy(result) df_no_arm <- broom::tidy(result_no_arm) s_mmrm_lsmeans(df[8, ], .in_ref_col = FALSE) #> $n #> [1] 18 #>  #> $adj_mean_se #> [1] 350.85122  11.85897 #>  #> $adj_mean_ci #> [1] 327.1922 374.5102 #> attr(,\"label\") #> [1] \"95% CI\" #>  #> $diff_mean_se #> [1] 14.22172 16.77111 #>  #> $diff_mean_ci #> [1] -19.23716  47.68060 #> attr(,\"label\") #> [1] \"95% CI\" #>  #> $change #> [1] -0.04224739 #> attr(,\"label\") #> [1] \"Relative Reduction (%)\" #>  #> $p_value #> [1] 0.3993832 #>  s_mmrm_lsmeans_single(df_no_arm[4, ]) #> $n #> [1] 36 #>  #> $adj_mean_se #> [1] 343.740364   8.298227 #>  #> $adj_mean_ci #> [1] 327.1965 360.2842 #> attr(,\"label\") #> [1] \"95% CI\" #>   dat_adsl <- dat %>%   select(Subject, group) %>%   unique() basic_table() %>%   split_cols_by(\"group\", ref_group = result$ref_level) %>%   add_colcounts() %>%   split_rows_by(\"days_grouped\") %>%   summarize_lsmeans(show_relative = \"increase\") %>%   build_table(     df = broom::tidy(result),     alt_counts_df = dat_adsl   ) #>                                               A                    B          #>                                             (N=18)               (N=18)       #> ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî #> [0,2]                                                                         #>   n                                           18                   18         #>   Adjusted Mean (SE)                   256.652 (11.859)     264.496 (11.859)  #>     95% CI                            (232.993, 280.311)   (240.837, 288.155) #>   Difference in Adjusted Means (SE)                          7.844 (16.771)   #>     95% CI                                                 (-25.615, 41.303)  #>     Relative Increase (%)                                         3.1%        #>     p-value (MMRM)                                               0.6415       #> (2,4.5]                                                                       #>   n                                           18                   18         #>   Adjusted Mean (SE)                   288.649 (11.859)     282.992 (11.859)  #>     95% CI                            (264.990, 312.308)   (259.333, 306.651) #>   Difference in Adjusted Means (SE)                         -5.657 (16.771)   #>     95% CI                                                 (-39.116, 27.801)  #>     Relative Increase (%)                                        -2.0%        #>     p-value (MMRM)                                               0.7369       #> (4.5,7]                                                                       #>   n                                           18                   18         #>   Adjusted Mean (SE)                   312.178 (11.859)     308.518 (11.859)  #>     95% CI                            (288.519, 335.837)   (284.859, 332.177) #>   Difference in Adjusted Means (SE)                         -3.660 (16.771)   #>     95% CI                                                 (-37.119, 29.799)  #>     Relative Increase (%)                                        -1.2%        #>     p-value (MMRM)                                               0.8279       #> (7,9]                                                                         #>   n                                           18                   18         #>   Adjusted Mean (SE)                   336.630 (11.859)     350.851 (11.859)  #>     95% CI                            (312.971, 360.289)   (327.192, 374.510) #>   Difference in Adjusted Means (SE)                         14.222 (16.771)   #>     95% CI                                                 (-19.237, 47.681)  #>     Relative Increase (%)                                         4.2%        #>     p-value (MMRM)                                               0.3994        basic_table() %>%   split_rows_by(\"days_grouped\") %>%   summarize_lsmeans(arms = FALSE) %>%   build_table(     df = broom::tidy(result_no_arm),     alt_counts_df = dat_adsl   ) #>                             all obs       #> ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî #> [0,2]                                     #>   n                            36         #>   Adjusted Mean (SE)    260.574 (8.298)   #>     95% CI             (244.030, 277.118) #> (2,4.5]                                   #>   n                            36         #>   Adjusted Mean (SE)    285.821 (8.298)   #>     95% CI             (269.277, 302.365) #> (4.5,7]                                   #>   n                            36         #>   Adjusted Mean (SE)    310.348 (8.298)   #>     95% CI             (293.804, 326.892) #> (7,9]                                     #>   n                            36         #>   Adjusted Mean (SE)    343.740 (8.298)   #>     95% CI             (327.196, 360.284)"},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/tern.mmrm-package.html","id":null,"dir":"Reference","previous_headings":"","what":"tern.mmrm Package ‚Äî tern.mmrm-package","title":"tern.mmrm Package ‚Äî tern.mmrm-package","text":"tern.mmrm analysis package create tables, listings graphs analyze clinical trials data.","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/reference/tern.mmrm-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"tern.mmrm Package ‚Äî tern.mmrm-package","text":"Maintainer: Daniel Saban√©s Bov√© daniel.sabanes_bove@roche.com Authors: Godwin Yung yungg@gene.com Francois Collin Jana Stoilova jana.stoilova@roche.com Joe Zhu joe.zhu@roche.com contributors: F. Hoffmann-La Roche AG [copyright holder, funder]","code":""},{"path":[]},{"path":"https://insightsengineering.github.io/tern.mmrm/news/index.html","id":"ternmmrm-011","dir":"Changelog","previous_headings":"","what":"tern.mmrm 0.1.1","title":"tern.mmrm 0.1.1","text":"Removed dependency purrr, tibble, scda scda.2022 Changed tests example apps use mmrm_test_data sample data. Updated Satterthwaite DF Example vignette. Updated license. Updated package authors.","code":""},{"path":"https://insightsengineering.github.io/tern.mmrm/news/index.html","id":"ternmmrm-010","dir":"Changelog","previous_headings":"","what":"tern.mmrm 0.1.0","title":"tern.mmrm 0.1.0","text":"Starting separate package moving MMRM functionality tern.","code":""}]
